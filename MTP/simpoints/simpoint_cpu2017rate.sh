#!/bin/bash

while getopts i:k:j: flag
do
	case "${flag}" in
		i) interval=${OPTARG};;
		k) maxk=${OPTARG};;
		j) cores=${OPTARG};;
	esac
done

parallel -j$cores ::: "./simpoint_gen.sh -b cpu2017/500.perlbench_r/perlbench_r -a 'splitmail.pl 6400 12 26 16 100 0' -i $interval -k $maxk" "./simpoint_gen.sh -b cpu2017/502.gcc_r/cpugcc_r -a 'ref32.c -O5' -i $interval -k $maxk" "./simpoint_gen.sh -b cpu2017/503.bwaves_r/bwaves_r -f bwaves_1.in -i $interval -k $maxk" "./simpoint_gen.sh -b cpu2017/505.mcf_r/mcf_r -a inp.in -k $maxk -i $interval" "./simpoint_gen.sh -b cpu2017/507.cactuBSSN_r/cactusBSSN_r -a spec_ref.par -k $maxk -i $interval" "./simpoint_gen.sh -b cpu2017/508.namd_r/namd_r -a '--input apoa1.input --iterations 65' -k $maxk -i $interval" "./simpoint_gen.sh -b cpu2017/510.parest_r/parest_r -a ref.prm -k $maxk -i $interval" "./simpoint_gen.sh -b cpu2017/511.povray_r/povray_r -a SPEC-benchmark-ref.ini -k $maxk -i $interval" "./simpoint_gen.sh -b cpu2017/519.lbm_r/lbm_r -a '3000 reference.dat 0 0 100_100_130_ldc.of' -k $maxk -i $interval" "./simpoint_gen.sh -b cpu2017/520.omnetpp_r/omnetpp_r -a '-c General -r 0' -k $maxk -i $interval" "./simpoint_gen.sh -b cpu2017/521.wrf_r/wrf_r -k $maxk -i $interval" "./simpoint_gen.sh -b cpu2017/523.xalancbmk_r/cpuxalan_r -a '-v t5.xml xalanc.xsl' -k $maxk -i $interval" "./simpoint_gen.sh -b cpu2017/525.x264_r/x264_r -a '--pass 1 --stats x264_stats.log --bitrate 1000 --dumpyuv 200 --frames 1000 -o BuckBunny_New.264 BuckBunny.yuv 1280x720' -k $maxk -i $interval" "./simpoint_gen.sh -b cpu2017/526.blender_r/blender_r -a '--render-output sh3_no_char_ --threads 1 -b -F RAWTGA -s 849 -e 849 -a ' -k $maxk -i $interval" "./simpoint_gen.sh -b cpu2017/527.cam4_r/cam4_r -i $interval -k $maxk" "./simpoint_gen.sh -b cpu2017/531.deepsjeng_r/deepsjeng_r -a ref.txt -k $maxk -i $interval" "./simpoint_gen.sh -b cpu2017/538.imagick_r/imagick_r -a '-limit disk 0 refrate_input.tga -edge 41 -resample 181% -emboss 31 -colorspace YUV -mean-shift 19x19+15% -resize 30% refrate_output.tga' -k $maxk -i $interval" "./simpoint_gen.sh -b cpu2017/541.leela_r/leela_r -a ref.sgf -i $interval -k $maxk" "./simpoint_gen.sh -b cpu2017/544.nab_r/nab_r -a '1am0 1122214447 122 0' -k $maxk -i $interval" "./simpoint_gen.sh -b cpu2017/548.exchange2_r/exchamge2_r -a 6 -i $interval -k $maxk" "./simpoint_gen.sh -b cpu2017/549.fotonik3d_r/fotonik3d_r -k $maxk -i $interval" "./simpoint_gen.sh -b cpu2017/554.roms_r/roms_r -f ocean_benchmark2.in.x -k $maxk -i $interval" "./simpoint_gen.sh -b cpu2017/557.xz_r/xz_r -a 'cld.tar.xz 160 19cf30ae51eddcbefda78dd06014b4b96281456e078ca7c13e1c0c9e6aaea8dff3efb4ad6b0456697718cede6bd5454852652806a657bb56e07d61128434b474 59796407 61004416 6' -k $maxk -i $interval"
